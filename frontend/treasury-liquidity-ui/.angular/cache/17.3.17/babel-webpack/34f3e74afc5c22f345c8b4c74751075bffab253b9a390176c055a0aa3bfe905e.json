{"ast":null,"code":"import { invariant } from \"../../utilities/globals/index.js\";\n/**\n * @deprecated `toPromise` will be removed in Apollo Client 4.0. This is safe\n * to use in 3.x.\n *\n * **Recommended now**\n *\n * No action needed\n *\n * **When upgrading**\n *\n * Use RxJS's [`firstValueFrom`](https://rxjs.dev/api/index/function/firstValueFrom) function.\n *\n * ```ts\n * const result = await firstValueFrom(observable);\n * ```\n */\nexport function toPromise(observable) {\n  var completed = false;\n  return new Promise(function (resolve, reject) {\n    observable.subscribe({\n      next: function (data) {\n        if (completed) {\n          globalThis.__DEV__ !== false && invariant.warn(57);\n        } else {\n          completed = true;\n          resolve(data);\n        }\n      },\n      error: reject\n    });\n  });\n}\n//# sourceMappingURL=toPromise.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}